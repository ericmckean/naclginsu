#!/usr/bin/python
#
# Copyright (c) 2010 The Ginsu Project Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

Import('env')

env.Append(
  CPPPATH = [
    'src',
    'src/gpu',
    '$MAIN_DIR/third_party/npapi/bindings',
  ],
  CPPDEFINES = [
    'STUB_LOG_AND_CHECK',
  ],
)

srcs = [
  'src/gpu/command_buffer/common/cmd_buffer_common.cc',
  'src/gpu/command_buffer/common/gles2_cmd_format.cc',
  'src/gpu/command_buffer/common/gles2_cmd_utils.cc',
  'src/gpu/command_buffer/client/cmd_buffer_helper.cc',
  'src/gpu/command_buffer/client/fenced_allocator.cc',
  'src/gpu/command_buffer/client/gles2_c_lib.cc',
  'src/gpu/command_buffer/client/gles2_cmd_helper.cc',
  'src/gpu/command_buffer/client/gles2_implementation.cc',
  'src/gpu/command_buffer/client/gles2_lib.cc',
  'src/gpu/command_buffer/client/id_allocator.cc',
]
env.ComponentLibrary('gles2', srcs, COMPONENT_STATIC=True)
env.Append(LIBS=['gles2'])

srcs = [
  'src/gpu/pgl/command_buffer_pepper.cc',
  'src/gpu/pgl/pgl.cc',
]
env.ComponentLibrary('pgl', srcs, COMPONENT_STATIC=True)
env.Append(LIBS=['pgl'])
