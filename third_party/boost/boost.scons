#!/usr/bin/python
#
# Copyright (c) 2010 The Ginsu Project Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

Import('env')

# Boost uses exceptions.
env['ENABLE_EXCEPTIONS'] = True

# Includes and defines specific to Boost.
env.Append(
  CPPDEFINES = [
    ['BOOST_THREAD_BUILD_LIB', '1'],
  ],
  CPPPATH = [
    '$MAIN_DIR/third_party/boost/trunk',
  ],
)


# Build Boost.Thread, needed for CGAL.
if env.Bit('windows'):
  srcs = Glob('trunk/libs/thread/src/win32/*.cpp')
elif env.Bit('mac'):
  srcs = env.Glob('trunk/libs/thread/src/pthread/*.cpp')
# TODO(gwink): linux
#elif env.Bit('linux'):
#  srcs = Glob('trunk/src/osgViewer', ['*.cpp'], ['*Carbon.cpp', '*Win32.cpp'])
env.ComponentLibrary('boost_thread', srcs, COMPONENT_STATIC = True)
env.Append(LIBS=['boost_thread'])
